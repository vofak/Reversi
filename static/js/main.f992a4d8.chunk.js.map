{"version":3,"sources":["game_space/DifficultyEnum.js","game_space/game/PieceEnum.js","reversi/player/PlayerEnum.js","game_space/NewGame.js","utils/AspectRatio.js","game_space/game/Square.js","reversi/ReversiUtils.js","reversi/Board.js","reversi/player/MinMaxPlayer.js","reversi/player/SimplePlayer.js","reversi/player/RandomPlayer.js","reversi/player/HungryPlayer.js","game_space/game/Game.js","game_space/GameSpace.js","stats/Stats.js","App.js","serviceWorker.js","index.js"],"names":["DifficultyEnum","Object","freeze","random","name","hungry","simple","strong","PieceEnum","empty","white","black","PlayerEnum","piece","NewGame","props","context","onDifficultyChange","e","difficulty","target","value","Error","setState","selectedDifficulty","onPlayerChange","player","selectedPlayer","onSubmit","preventDefault","onStartNewGame","state","className","this","type","id","checked","onChange","htmlFor","React","Component","AspectRatio","padding","ratio","style","paddingBottom","toString","children","Square","onClick","onMouseEnter","onMouseLeave","move","toReverse","getPiece","color","backgroundColor","xmlns","r","cx","cy","fill","getOpponent","Board","grid","rowIndex","row","columnIndex","push","validMoves","currPlayer","moveNumber","winner","position","isValidMove","set","getValidMoves","length","findWinner","opp","playerCount","oppCount","i","j","currPiece","get","getToReverse","validMove","ret","rowDiff","columnDiff","concat","getToReverseInDirection","rowTemp","columnTemp","isOnBoard","MinMaxPlayer","depth","board","negamax","a","b","val","evaluateBoard","max","res","makeMove","resLoc","undoMove","SimplePlayer","RandomPlayer","Math","floor","HungryPlayer","Game","square","getMove","onGameOver","makeOpponentMove","updateBoard","onMouseEnterSquare","getSquare","setToReverse","onMouseLeaveSquare","createRefs","getDefaultInitBoard","opponent","squares","squaresRow","createRef","squareRefs","oppMove","nextMove","current","setMove","setPiece","forceUpdate","map","ref","GameSpace","gameStats","alert","updateLocalStorage","inGame","height","width","updateWindowDimensions","bind","window","addEventListener","removeEventListener","innerWidth","innerHeight","won","localStorage","getItem","setItem","Number","onStatsChanged","Stats","victories","update","App","statsRef","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.f992a4d8.chunk.js","sourcesContent":["const DifficultyEnum = Object.freeze({\r\n    random: {name: \"Random Player\"},\r\n    hungry: {name: \"Hungry Player\"},\r\n    simple: {name: \"Simple Player\"},\r\n    strong: {name: \"Strong Player\"}\r\n});\r\n\r\nexport default DifficultyEnum;","const PieceEnum = Object.freeze({empty: 1, white: 2, black: 3});\r\n\r\nexport default PieceEnum;","import PieceEnum from \"../../game_space/game/PieceEnum\";\r\n\r\nconst PlayerEnum = Object.freeze({\r\n    white: {piece: PieceEnum.white, name: \"White Player\"},\r\n    black: {piece: PieceEnum.black, name: \"Black Player\"}\r\n});\r\n\r\nexport default PlayerEnum;","import React from \"react\";\r\nimport './NewGame.css';\r\nimport DifficultyEnum from \"./DifficultyEnum\";\r\nimport PlayerEnum from \"../reversi/player/PlayerEnum\";\r\n\r\nclass NewGame extends React.Component {\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {selectedDifficulty: this.props.difficulty, selectedPlayer: this.props.player};\r\n    }\r\n\r\n    onDifficultyChange = (e) => {\r\n        let difficulty = null;\r\n        if (e.target.value === \"random\") {\r\n            difficulty = DifficultyEnum.random;\r\n        } else if (e.target.value === \"hungry\") {\r\n            difficulty = DifficultyEnum.hungry;\r\n        } else if (e.target.value === \"simple\") {\r\n            difficulty = DifficultyEnum.simple;\r\n        } else {\r\n            throw new Error(\"Unknown difficulty\");\r\n        }\r\n        this.setState({selectedDifficulty: difficulty});\r\n    };\r\n\r\n    onPlayerChange = (e) => {\r\n        let player = null;\r\n        if (e.target.value === \"white\") {\r\n            player = PlayerEnum.white;\r\n        } else if (e.target.value === \"black\") {\r\n            player = PlayerEnum.black;\r\n        } else {\r\n            throw new Error(\"Unknown color\");\r\n        }\r\n        this.setState({selectedPlayer: player});\r\n    };\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.onStartNewGame(this.state.selectedDifficulty, this.state.selectedPlayer);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className='NewGame'>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className='FormSection'>\r\n                        <input type=\"radio\" id=\"random\" name=\"difficulty\" value=\"random\"\r\n                               checked={this.state.selectedDifficulty === DifficultyEnum.random}\r\n                               onChange={this.onDifficultyChange}/>\r\n                        <label htmlFor=\"random\">\r\n                            Random\r\n                        </label>\r\n                        <input type=\"radio\" id=\"hungry\" name=\"difficulty\" value=\"hungry\"\r\n                               checked={this.state.selectedDifficulty === DifficultyEnum.hungry}\r\n                               onChange={this.onDifficultyChange}/>\r\n                        <label htmlFor=\"hungry\">\r\n                            Hungry\r\n                        </label>\r\n                        <input type=\"radio\" id=\"simple\" name=\"difficulty\" value=\"simple\"\r\n                               checked={this.state.selectedDifficulty === DifficultyEnum.simple}\r\n                               onChange={this.onDifficultyChange}/>\r\n                        <label htmlFor=\"simple\">\r\n                            Simple\r\n                        </label>\r\n                    </div>\r\n\r\n                    <div className='FormSection'>\r\n                        <input type=\"radio\" id=\"white\" name=\"color\" value=\"white\"\r\n                               checked={this.state.selectedPlayer === PlayerEnum.white}\r\n                               onChange={this.onPlayerChange}/>\r\n                        <label htmlFor=\"white\">\r\n                            White\r\n                        </label>\r\n                        <input type=\"radio\" id=\"black\" name=\"color\" value=\"black\"\r\n                               checked={this.state.selectedPlayer === PlayerEnum.black}\r\n                               onChange={this.onPlayerChange}/>\r\n                        <label htmlFor=\"black\">\r\n                            Black\r\n                        </label>\r\n                    </div>\r\n\r\n                    <footer>\r\n                        <input type='submit' value='Start Game'/>\r\n                    </footer>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NewGame;","import React from \"react\";\r\nimport './AspectRatio.css';\r\n\r\nclass AspectRatio extends React.Component {\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n    }\r\n\r\n    render() {\r\n        let padding = (1 / this.props.ratio) * 100;\r\n        return (\r\n            <div className='AspectRatioContainer' style={{paddingBottom: padding.toString() + '%'}}>\r\n                <div className='AspectRatioInner'>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default AspectRatio;","import React from \"react\";\r\nimport './Square.css';\r\nimport AspectRatio from '../../utils/AspectRatio'\r\nimport PieceEnum from \"./PieceEnum\";\r\n\r\nclass Square extends React.Component {\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {piece: this.props.piece, move: this.props.move, toReverse: false};\r\n    }\r\n\r\n    setPiece(piece) {\r\n        this.setState({piece: piece});\r\n    }\r\n\r\n    setMove(move) {\r\n        this.setState({move: move});\r\n    }\r\n\r\n    setToReverse(toReverse) {\r\n        this.setState({toReverse: toReverse});\r\n    }\r\n\r\n    onClick = () => {\r\n        this.props.onClick(this);\r\n    };\r\n\r\n    onMouseEnter = () => {\r\n        this.props.onMouseEnter(this);\r\n    };\r\n\r\n    onMouseLeave = () => {\r\n        this.props.onMouseLeave(this);\r\n    };\r\n\r\n    render() {\r\n        let piece;\r\n        if (this.state.piece === PieceEnum.white) {\r\n            piece = this.getPiece('white');\r\n        } else if (this.state.piece === PieceEnum.black) {\r\n            piece = this.getPiece('black');\r\n        } else {\r\n            piece = '';\r\n        }\r\n\r\n        let color = this.state.move ? 'blue' : this.props.color;\r\n        color = this.state.toReverse ? 'aqua' : color;\r\n\r\n        return (\r\n            <div className='SquareContainer'>\r\n                <AspectRatio ratio={1}\r\n                             children={\r\n                                 <div className='Square'\r\n                                      style={{backgroundColor: color}}\r\n                                      onClick={this.onClick}\r\n                                      onMouseEnter={this.onMouseEnter}\r\n                                      onMouseLeave={this.onMouseLeave}\r\n                                 >\r\n                                     {piece}\r\n                                 </div>\r\n                             }>\r\n                </AspectRatio>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    getPiece(color) {\r\n        return (\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className='Piece'>\r\n                <circle r=\"50%\" cx=\"50%\" cy=\"50%\" fill={color}/>\r\n            </svg>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Square;","import PlayerEnum from \"./player/PlayerEnum\";\r\n\r\nfunction getOpponent(player) {\r\n    return player === PlayerEnum.white ? PlayerEnum.black : PlayerEnum.white;\r\n}\r\n\r\nexport default getOpponent;","import PieceEnum from \"../game_space/game/PieceEnum\";\r\nimport React from \"react\";\r\nimport PlayerEnum from \"./player/PlayerEnum\";\r\nimport getOpponent from \"./ReversiUtils\";\r\n\r\nclass Board {\r\n    constructor() {\r\n        this.grid = [];\r\n        for (let rowIndex = 0; rowIndex < 8; rowIndex++) {\r\n            let row = [];\r\n            for (let columnIndex = 0; columnIndex < 8; columnIndex++) {\r\n                row.push(PieceEnum.empty);\r\n            }\r\n            this.grid.push(row);\r\n        }\r\n        this.validMoves = null;\r\n        this.currPlayer = PlayerEnum.white;\r\n        this.moveNumber = 1;\r\n        this.winner = null;\r\n    }\r\n\r\n    static getDefaultInitBoard() {\r\n        let ret = new Board();\r\n        ret.grid[3][3] = PieceEnum.black;\r\n        ret.grid[4][4] = PieceEnum.black;\r\n        ret.grid[4][3] = PieceEnum.white;\r\n        ret.grid[3][4] = PieceEnum.white;\r\n        return ret;\r\n    }\r\n\r\n    get(rowIndex, columnIndex) {\r\n        return this.grid[rowIndex][columnIndex];\r\n    }\r\n\r\n    set(position, piece) {\r\n        this.grid[position.rowIndex][position.columnIndex] = piece;\r\n        this.validMoves = null;\r\n    }\r\n\r\n    getMoveNumber() {\r\n        return this.moveNumber;\r\n    }\r\n\r\n    makeMove(move) {\r\n        if (!this.isValidMove(move.rowIndex, move.columnIndex)) {\r\n            throw new Error(\"The intended move is invalid\");\r\n        }\r\n        this.set(move, this.currPlayer.piece);\r\n        for (let toReverse of move.toReverse) {\r\n            this.set(toReverse, this.currPlayer.piece);\r\n        }\r\n        this.currPlayer = getOpponent(this.currPlayer);\r\n        let validMoves = this.getValidMoves();\r\n        if (validMoves.length > 0) {\r\n            this.moveNumber++;\r\n        } else {\r\n            this.winner = this.findWinner();\r\n        }\r\n    }\r\n\r\n    findWinner() {\r\n        let player = this.currPlayer;\r\n        let opp = getOpponent(player);\r\n\r\n        let playerCount = 0;\r\n        let oppCount = 0;\r\n\r\n        for (let i = 0; i < 8; i++) {\r\n            for (let j = 0; j < 8; j++) {\r\n                let currPiece = this.get(i, j);\r\n                if (currPiece === player.piece) {\r\n                    playerCount++;\r\n                } else if (currPiece === opp.piece) {\r\n                    oppCount++;\r\n                }\r\n            }\r\n        }\r\n        return playerCount > oppCount ? player : opp;\r\n    }\r\n\r\n    undoMove(move) {\r\n        this.set(move, PieceEnum.empty);\r\n        for (let toReverse of move.toReverse) {\r\n            this.set(toReverse, this.currPlayer.piece);\r\n        }\r\n        this.currPlayer = getOpponent(this.currPlayer);\r\n        this.winner = null;\r\n        this.moveNumber--;\r\n    }\r\n\r\n    getValidMoves() {\r\n        if (this.validMoves === null) {\r\n            if (!this.currPlayer) {\r\n                return [];\r\n            }\r\n            let validMoves = [];\r\n            for (let rowIndex = 0; rowIndex < 8; ++rowIndex) {\r\n                for (let columnIndex = 0; columnIndex < 8; ++columnIndex) {\r\n                    if (this.grid[rowIndex][columnIndex] !== PieceEnum.empty) {\r\n                        continue;\r\n                    }\r\n                    let toReverse = this.getToReverse(this.currPlayer, rowIndex, columnIndex);\r\n                    if (toReverse.length > 0) {\r\n                        validMoves.push({rowIndex: rowIndex, columnIndex: columnIndex, toReverse: toReverse});\r\n                    }\r\n                }\r\n            }\r\n            this.validMoves = validMoves;\r\n        }\r\n\r\n        return this.validMoves;\r\n    }\r\n\r\n    isValidMove(rowIndex, columnIndex) {\r\n        let validMoves = this.getValidMoves(this.currPlayer);\r\n        for (let validMove of validMoves) {\r\n            if (validMove.rowIndex === rowIndex && validMove.columnIndex === columnIndex) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getMove(rowIndex, columnIndex) {\r\n        let validMoves = this.getValidMoves(this.currPlayer);\r\n        for (let validMove of validMoves) {\r\n            if (validMove.rowIndex === rowIndex && validMove.columnIndex === columnIndex) {\r\n                return validMove;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    getToReverse(player, rowIndex, columnIndex) {\r\n        let ret = [];\r\n\r\n        for (let rowDiff = -1; rowDiff <= 1; ++rowDiff) {\r\n            for (let columnDiff = -1; columnDiff <= 1; ++columnDiff) {\r\n                if (rowDiff === 0 && columnDiff === 0) {\r\n                    continue;\r\n                }\r\n                ret = ret.concat(this.getToReverseInDirection(player, rowIndex, columnIndex, rowDiff, columnDiff))\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    getToReverseInDirection(player, rowIndex, columnIndex, rowDiff, columnDiff) {\r\n        let ret = [];\r\n\r\n        let rowTemp = rowIndex;\r\n        let columnTemp = columnIndex;\r\n        while (true) {\r\n            rowTemp += rowDiff;\r\n            columnTemp += columnDiff;\r\n            if (!this.isOnBoard(rowTemp, columnTemp)) {\r\n                return [];\r\n            }\r\n            let currPiece = this.grid[rowTemp][columnTemp];\r\n            if (currPiece === PieceEnum.empty) {\r\n                return [];\r\n            } else if (currPiece === player.piece) {\r\n                return ret;\r\n            }\r\n            ret.push({rowIndex: rowTemp, columnIndex: columnTemp});\r\n        }\r\n    }\r\n\r\n    isOnBoard(rowIndex, columnIndex) {\r\n        return rowIndex >= 0 && rowIndex < 8\r\n            && columnIndex >= 0 && columnIndex < 8;\r\n    }\r\n}\r\n\r\nexport default Board;","class MinMaxPlayer {\r\n\r\n    constructor(depth) {\r\n        this.depth = depth ? depth : 4;\r\n    }\r\n\r\n    nextMove(board) {\r\n        return this.negamax(board, this.depth, -100000000, 100000000).move;\r\n    }\r\n\r\n    negamax(board, depth, a, b) {\r\n        if (depth === 0 || board.winner) {\r\n            return {val: this.evaluateBoard(board)};\r\n        }\r\n\r\n        let validMoves = board.getValidMoves();\r\n\r\n        let max = -100000;\r\n        let res = null;\r\n        for (let validMove of validMoves) {\r\n            board.makeMove(validMove);\r\n\r\n            let resLoc = this.negamax(board, depth - 1, a, b);\r\n            if (resLoc.val > max) {\r\n                max = resLoc.val;\r\n                res = {val: resLoc.val, move: validMove};\r\n            }\r\n\r\n            if (res && res.val > a) {\r\n                a = res.val;\r\n            }\r\n            if (a >= b) {\r\n                break;\r\n            }\r\n\r\n            board.undoMove(validMove);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    evaluateBoard(board) {\r\n        throw new Error(\"You have to implement this function\");\r\n    }\r\n}\r\n\r\nexport default MinMaxPlayer;","import MinMaxPlayer from \"./MinMaxPlayer\";\r\n\r\nclass SimplePlayer extends MinMaxPlayer {\r\n\r\n    constructor(depth) {\r\n        super(depth);\r\n    }\r\n\r\n    evaluateBoard(board) {\r\n        let ret = 0;\r\n        for (let i = 0; i < 8; i++) {\r\n            for (let j = 0; j < 8; j++) {\r\n                if (board.get(i, j) === board.currPlayer.piece) {\r\n                    ret++;\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n}\r\n\r\nexport default SimplePlayer;","class RandomPlayer {\r\n    nextMove(board) {\r\n        let validMoves = board.getValidMoves();\r\n        let randomPos = Math.floor(Math.random() * validMoves.length);\r\n        return validMoves[randomPos];\r\n    }\r\n}\r\n\r\nexport default RandomPlayer;","import MinMaxPlayer from \"./MinMaxPlayer\";\r\n\r\nclass HungryPlayer extends MinMaxPlayer {\r\n\r\n    constructor() {\r\n        super(1);\r\n    }\r\n\r\n    evaluateBoard(board) {\r\n        let ret = 0;\r\n        for (let i = 0; i < 8; i++) {\r\n            for (let j = 0; j < 8; j++) {\r\n                if (board.get(i, j) === board.currPlayer.piece) {\r\n                    ret++;\r\n                }\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default HungryPlayer;","import React from \"react\";\r\nimport './Game.css';\r\n\r\nimport Square from './Square'\r\nimport Board from '../../reversi/Board';\r\nimport SimplePlayer from \"../../reversi/player/SimplePlayer\";\r\nimport DifficultyEnum from \"../DifficultyEnum\";\r\nimport RandomPlayer from \"../../reversi/player/RandomPlayer\";\r\nimport HungryPlayer from \"../../reversi/player/HungryPlayer\";\r\nimport PlayerEnum from \"../../reversi/player/PlayerEnum\";\r\n\r\nclass Game extends React.Component {\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.createRefs();\r\n        this.board = Board.getDefaultInitBoard();\r\n        this.player = props.player;\r\n        switch (this.props.difficulty) {\r\n            case DifficultyEnum.random:\r\n                this.opponent = new RandomPlayer();\r\n                break;\r\n            case DifficultyEnum.hungry:\r\n                this.opponent = new HungryPlayer();\r\n                break;\r\n            case DifficultyEnum.simple:\r\n                this.opponent = new SimplePlayer();\r\n                break;\r\n            default:\r\n                throw new Error(\"Unknown opponent player\");\r\n        }\r\n\r\n        if (this.player !== PlayerEnum.white) {\r\n            this.makeOpponentMove();\r\n        }\r\n    }\r\n\r\n    createRefs() {\r\n        let squares = [];\r\n        for (let rowIndex = 0; rowIndex < 8; rowIndex++) {\r\n            let squaresRow = [];\r\n            for (let columnIndex = 0; columnIndex < 8; columnIndex++) {\r\n                squaresRow.push(React.createRef())\r\n            }\r\n            squares.push(squaresRow);\r\n        }\r\n        this.squareRefs = squares;\r\n    }\r\n\r\n    makeMove = (square) => {\r\n        let validMove = this.board.getMove(square.props.rowIndex, square.props.columnIndex);\r\n        if (validMove) {\r\n            this.board.makeMove(validMove);\r\n\r\n            if (this.board.winner) {\r\n                this.props.onGameOver({winner: this.board.winner});\r\n                return;\r\n            }\r\n\r\n            this.makeOpponentMove();\r\n            this.updateBoard();\r\n        }\r\n    };\r\n\r\n    makeOpponentMove() {\r\n        let oppMove = this.opponent.nextMove(this.board);\r\n        this.board.makeMove(oppMove);\r\n        if (this.board.winner) {\r\n            this.props.onGameOver({winner: this.board.winner});\r\n        }\r\n    }\r\n\r\n    updateBoard() {\r\n        for (let rowIndex = 0; rowIndex < 8; rowIndex++) {\r\n            for (let columnIndex = 0; columnIndex < 8; columnIndex++) {\r\n                let validMove = this.board.getMove(rowIndex, columnIndex);\r\n                let square = this.squareRefs[rowIndex][columnIndex].current;\r\n                square.setMove(validMove);\r\n                square.setPiece(this.board.get(rowIndex, columnIndex));\r\n                square.setToReverse(false);\r\n                square.forceUpdate();\r\n            }\r\n        }\r\n    }\r\n\r\n    onMouseEnterSquare = (square) => {\r\n        let move = square.state.move;\r\n        if (!move) {\r\n            return;\r\n        }\r\n        for (let toReverse of move.toReverse) {\r\n            this.getSquare(toReverse).setToReverse(true);\r\n        }\r\n    };\r\n\r\n    onMouseLeaveSquare = (square) => {\r\n        let move = square.state.move;\r\n        if (!move) {\r\n            return;\r\n        }\r\n        for (let toReverse of move.toReverse) {\r\n            this.getSquare(toReverse).setToReverse(false);\r\n        }\r\n    };\r\n\r\n    getSquare(position) {\r\n        return this.squareRefs[position.rowIndex][position.columnIndex].current;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='board'>\r\n                {this.board.grid.map((row, rowIndex) => {\r\n                    return (\r\n                        <div className='boardRow'>\r\n                            {row.map((square, columnIndex) => {\r\n                                let move = this.board.getMove(rowIndex, columnIndex);\r\n                                return <Square rowIndex={rowIndex}\r\n                                               columnIndex={columnIndex}\r\n                                               ref={this.squareRefs[rowIndex][columnIndex]}\r\n                                               color='green'\r\n                                               piece={this.board.get(rowIndex, columnIndex)}\r\n                                               move={move}\r\n                                               onClick={this.makeMove}\r\n                                               onMouseEnter={this.onMouseEnterSquare}\r\n                                               onMouseLeave={this.onMouseLeaveSquare}/>\r\n                            })}\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Game;","import React from \"react\";\r\nimport './GameSpace.css';\r\n\r\nimport NewGame from \"./NewGame\";\r\nimport Game from \"./game/Game\";\r\nimport AspectRatio from \"../utils/AspectRatio\";\r\nimport PlayerEnum from \"../reversi/player/PlayerEnum\";\r\nimport DifficultyEnum from \"./DifficultyEnum\";\r\n\r\nclass GameSpace extends React.Component {\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {inGame: false, player: PlayerEnum.white, difficulty: DifficultyEnum.hungry, height: 0, width: 0};\r\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateWindowDimensions();\r\n        window.addEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.updateWindowDimensions);\r\n    }\r\n\r\n    updateWindowDimensions() {\r\n        this.setState({width: window.innerWidth * 0.7, height: window.innerHeight});\r\n    }\r\n\r\n    onGameOver = (gameStats) => {\r\n        alert(gameStats.winner.name + \" won!!!\");\r\n        this.updateLocalStorage(gameStats);\r\n        this.setState({inGame: false});\r\n    };\r\n\r\n    onStartNewGame = (difficulty, player) => {\r\n        this.setState({inGame: true, difficulty: difficulty, player: player});\r\n    };\r\n\r\n    updateLocalStorage(gameStats) {\r\n        let won = gameStats.winner === this.state.player ? 1 : 0;\r\n        if (!localStorage.getItem(\"victories\")) {\r\n            localStorage.setItem(\"victories\", won.toString());\r\n        }\r\n        localStorage.setItem(\"victories\", (Number(localStorage.getItem(\"victories\")) + won).toString());\r\n        this.props.onStatsChanged();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='GameSpace' style={{width: this.state.width, height: this.state.height}}>\r\n                <AspectRatio ratio={1}>\r\n                    {this.state.inGame ?\r\n                        <Game player={this.state.player} onGameOver={this.onGameOver}\r\n                              difficulty={this.state.difficulty}/> :\r\n                        <NewGame onStartNewGame={this.onStartNewGame} difficulty={this.state.difficulty} player={this.state.player}/>}\r\n                </AspectRatio>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GameSpace;","import React from \"react\";\r\nimport './Stats.css';\r\n\r\nclass Stats extends React.Component {\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.state = {victories: 0};\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.update();\r\n    }\r\n\r\n    update() {\r\n        let victories = localStorage.getItem(\"victories\");\r\n        if (!victories) {\r\n            victories = \"0\";\r\n        }\r\n        this.setState({victories: Number(victories)});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='Stats'>\r\n                <p>Stats</p>\r\n                <p>Won: {this.state.victories}</p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Stats;","import React from 'react';\r\nimport './App.css';\r\nimport GameSpace from \"./game_space/GameSpace\";\r\nimport Stats from \"./stats/Stats\";\r\n\r\nclass App extends React.Component {\r\n\r\n\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.statsRef = React.createRef();\r\n    }\r\n\r\n    onStatsChanged = () => {\r\n        this.statsRef.current.update();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className='AppRow'>\r\n                <GameSpace onStatsChanged={this.onStatsChanged}/>\r\n                <Stats ref={this.statsRef}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}